import"./modulepreload-polyfill-B5Qt9EMX.js";"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then(e=>{console.log("SW зареєстровано",e),e.onupdatefound=()=>{const o=e.installing;o.onstatechange=()=>{o.state==="installed"&&navigator.serviceWorker.controller&&(console.log("🔄 Доступне оновлення, перезавантаження..."),window.location.reload())}}}).catch(console.error);let t;const n=document.getElementById("installButton");window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),t=e,n.classList.remove("hidden")});n.addEventListener("click",async()=>{if(t){t.prompt();const{outcome:e}=await t.userChoice;e==="accepted"&&console.log("Користувач встановив додаток"),t=null,n.classList.add("hidden")}});window.addEventListener("appinstalled",()=>{n.classList.add("hidden")});
